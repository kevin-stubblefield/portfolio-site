extends ./layouts/layout

block content
    if Object.keys(user).length > 0
        div#menu.hidden
            button.button(onclick="onNewProjectClick()") New Project
            button.button(onclick="onEditProjectClick()") Edit Project
            button.button(onclick="onDeleteProjectClick()") Delete Project
        div#menu-button
            i.fa.fa-bars.fa-lg(onclick="onMenuButtonClick(this.parentNode)")
    div.container.dashboard
        if projects.length
            ul.projects
                each project in projects
                    li(onclick="onProjectClick(this)")= project.title
            div.project-details
                div#project-details-header
                    h4#project-description(onclick="onProjectDescriptionClick(this)")
                ul#project-tasks
        else
            div.message.warning
                p No projects at this time

    script var projects = !{JSON.stringify(projects).replace(/<\//g, '<\\/')}
    script var user = !{JSON.stringify(user).replace(/<\//g, '<\\/')}
    script(src="https://unpkg.com/axios/dist/axios.min.js")
    script(src="/js/todo.js")